{% extends 'base.html' %}
{% load static %}
{% block content %}
    <style>
        .datepicker, #starttimepicker, #stoptimepicker:hover {
            cursor: pointer;
        }


    </style>
    <div class="row" style="margin: auto">
        <!-- left column -->
        <div class="col-12" style="margin: auto">
            <!-- general form elements -->
            <div class="card card-primary table-responsive">
                <div class="card-header">
                    <h3 class="card-title">Dars jadvali yaratish</h3>
                </div>
                {% include 'inc/messages.html' %}
                <!-- /.card-header -->
                <!-- form start -->

                <form role="form" id="schedule_form" method="POST" action="{% url 'sign:add_schedule' %}">
                    {% csrf_token %}
                    <div class="card-body">
                        <label class="label_required" style="margin-bottom: 0" for="exampleInputname">Guruhni
                            tanlang</label>
                        <select name="group" id="group" class="form-control">
                            <option value="">-- guruhni tanlang --</option>
                            {% for render_group in groups %}
                                <option {% if group.id == render_group.id %}selected{% endif %}
                                        value="{{ render_group.id }}">{{ render_group.category }}-{{ render_group.number }} {{ render_group.year }}</option>
                            {% endfor %}
                        </select>
                        <label for="teacher" class="label_required" style="margin-bottom: 0; margin-top: 2%">O'qituvchini
                            tanlang</label>
                        <select id="teacher" name="teacher" class="form-control">

                            {% for teacher in teachers %}
                                <option value="{{ teacher.id }}">{{ teacher.name|truncatewords:2 }}</option>
                            {% endfor %}

                        </select>
                        <button type="submit" style="float: right" class="btn btn-success mt-5">Yaratish</button>
                    </div>


                </form>
            </div>
        </div>
    </div>

{% endblock content %}

{% block bottom %}
    <script>
        $(document).ready(function () {

            $('#group').on('change', function () {
                if (!$.isNumeric($("#group").children("option:selected").val())) {
                    $('#group').css('border-color', 'red')
                } else {
                    $('#group').css('border-color', 'green')
                }
            })


            $('#schedule_form').submit(function (e) {

                if (!$.isNumeric($("#group").children("option:selected").val())) {
                    $('#group').css('border-color', 'red')
                    return false;
                } else if (!$.isNumeric($("#teacher").children("option:selected").val())) {
                    $('#teacher').css('border-color', 'red')
                    return false;
                } else {
                    return true;
                }

            })


        });
    </script>


{% endblock bottom %}